<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Crypto Miner Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --tg-theme-bg-color: #667eea;
            --tg-theme-text-color: #ffffff;
            --tg-theme-hint-color: #a1a1a1;
            --tg-theme-link-color: #4CAF50;
            --tg-theme-button-color: #4CAF50;
            --tg-theme-button-text-color: #ffffff;
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #e91e63;
            --success: #4CAF50;
            --warning: #FF9800;
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%));
            min-height: 100vh;
            color: var(--tg-theme-text-color, #333);
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
            padding-bottom: 80px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 25px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .online-indicator {
            display: inline-flex;
            align-items: center;
            background: rgba(76, 175, 80, 0.3);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-top: 8px;
            border: 1px solid rgba(76, 175, 80, 0.5);
        }

        .online-dot {
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            margin-right: 6px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .card {
            background: var(--card-bg);
            border-radius: 25px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .balance-section {
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            position: relative;
            overflow: hidden;
        }

        .balance-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .balance-amount {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            margin: 10px 0;
            text-shadow: 0 4px 15px rgba(0,0,0,0.3);
            font-feature-settings: "tnum";
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 15px 0;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            border-left: 4px solid var(--primary);
            backdrop-filter: blur(10px);
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--tg-theme-text-color, #333);
        }

        .mine-section {
            text-align: center;
            position: relative;
        }

        .mine-button {
            width: 160px;
            height: 160px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: none;
            border-radius: 50%;
            margin: 25px auto;
            display: block;
            cursor: pointer;
            font-size: 4rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 15px 35px rgba(255, 165, 0, 0.4);
            position: relative;
            overflow: hidden;
        }

        .mine-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: all 0.6s ease;
        }

        .mine-button:active {
            transform: scale(0.85);
            box-shadow: 0 8px 25px rgba(255, 165, 0, 0.6);
        }

        .mine-button:active::before {
            transform: translateX(100%) translateY(100%);
        }

        .boost-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            animation: bounce 1s infinite;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.4);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-5px) scale(1.05); }
        }

        .tab-navigation {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            background: var(--card-bg);
            border-radius: 25px;
            padding: 10px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            position: sticky;
            top: 10px;
            z-index: 100;
            backdrop-filter: blur(20px);
        }

        .tab-button {
            flex: 1;
            padding: 15px 10px;
            text-align: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            color: var(--tg-theme-text-color, #333);
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-badge {
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -5px;
            right: -5px;
        }

        .upgrade-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            margin-bottom: 12px;
            border-left: 4px solid var(--success);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .upgrade-item:hover {
            transform: translateX(8px);
        }

        .upgrade-button {
            background: var(--tg-theme-button-color, var(--success));
            color: var(--tg-theme-button-text-color, white);
            border: none;
            padding: 12px 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .upgrade-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .click-animation {
            position: fixed;
            pointer-events: none;
            font-weight: bold;
            font-size: 1.4rem;
            color: var(--accent);
            animation: floatUp 1s ease-out forwards;
            z-index: 1000;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(1.8);
                opacity: 0;
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 20px;
            z-index: 1000;
            animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 90%;
            text-align: center;
            backdrop-filter: blur(20px);
        }

        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            border-radius: 30px;
            z-index: 1001;
            text-align: center;
            animation: achievementPop 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            backdrop-filter: blur(30px);
            border: 2px solid rgba(255,255,255,0.3);
            max-width: 85%;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            padding: 15px;
            display: flex;
            justify-content: space-around;
            border-top-left-radius: 25px;
            border-top-right-radius: 25px;
            box-shadow: 0 -5px 25px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            z-index: 1000;
        }

        .nav-button {
            background: none;
            border: none;
            padding: 12px 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: var(--tg-theme-text-color, #333);
        }

        .nav-button.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transform: translateY(-5px);
        }

        .theme-dark {
            --card-bg: rgba(30, 30, 30, 0.95);
            --tg-theme-text-color: #ffffff;
        }

        @media (max-width: 380px) {
            .balance-amount { font-size: 2.5rem; }
            .mine-button { width: 140px; height: 140px; font-size: 3.5rem; }
            .tab-button { padding: 12px 8px; font-size: 0.8rem; }
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <div>Загрузка майнера...</div>
    </div>

    <div class="container" id="mainContent" style="display: none;">
        <div class="header">
            <div class="user-info">
                <div class="avatar" id="userAvatar">U</div>
                <div>
                    <div id="userName">Пользователь</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Уровень <span id="userLevel">1</span></div>
                </div>
            </div>
            <h1>🚀 Crypto Miner Pro</h1>
            <p>Профессиональный майнинг в Telegram!</p>
            <div class="online-indicator">
                <div class="online-dot"></div>
                <span>Онлайн: <span id="onlineCount">1,247</span></span>
            </div>
        </div>

        <div class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('mine')">
                ⛏️
                <span>Майнинг</span>
                <span class="tab-badge" id="mineBadge" style="display: none;">!</span>
            </button>
            <button class="tab-button" onclick="switchTab('upgrades')">
                🔧
                <span>Улучшения</span>
                <span class="tab-badge" id="upgradeBadge" style="display: none;"></span>
            </button>
            <button class="tab-button" onclick="switchTab('quests')">
                🎯
                <span>Квесты</span>
                <span class="tab-badge" id="questBadge" style="display: none;"></span>
            </button>
            <button class="tab-button" onclick="switchTab('leaderboard')">
                🏆
                <span>Топ</span>
                <span class="tab-badge" id="leaderboardBadge" style="display: none;"></span>
            </button>
        </div>

        <!-- Вкладка Майнинг -->
        <div id="mine" class="tab-content active">
            <div class="card balance-section">
                <div style="font-size: 0.9rem; opacity: 0.9;">Ваш баланс</div>
                <div class="balance-amount" id="balance">0</div>
                <div style="font-size: 0.9rem; opacity: 0.9;">BTC ($<span id="balanceUsd">0</span>)</div>
            </div>

            <div class="card">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="hashrate">1</div>
                        <div class="stat-label">Хешрейт</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="energy">100</div>
                        <div class="stat-label">Энергия</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalMined">0</div>
                        <div class="stat-label">Всего добыто</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="autoIncome">0</div>
                        <div class="stat-label">Авто/сек</div>
                    </div>
                </div>
            </div>

            <div class="card mine-section">
                <button class="mine-button" id="mineButton" ontouchstart="mine()" onmousedown="mine()">
                    ⛏️
                </button>
                <div class="boost-indicator" id="boostIndicator" style="display: none;">
                    BOOST x2!
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <div style="font-size: 0.9rem; color: var(--tg-theme-hint-color, #666);">
                        Нажмите и удерживайте для быстрого майнинга!
                    </div>
                </div>
            </div>
        </div>

        <!-- Вкладка Улучшения -->
        <div id="upgrades" class="tab-content">
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 20px;">🔧 Система улучшений</h3>
                
                <div class="upgrade-item">
                    <div style="flex: 1;">
                        <div style="font-weight: bold; display: flex; align-items: center; gap: 8px;">
                            💻 Базовый ПК
                            <span style="background: var(--primary); color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.7rem;">
                                Ур. <span id="upgradePcLevel">0</span>
                            </span>
                        </div>
                        <div style="font-size: 0.8rem; color: var(--tg-theme-hint-color, #666); margin: 5px 0;">
                            +0.5 H/s к ручному майнингу
                        </div>
                        <div style="font-size: 0.85rem; color: var(--accent); font-weight: bold;">
                            <span id="upgradePcCost">50</span> BTC
                        </div>
                    </div>
                    <button class="upgrade-button" onclick="buyUpgrade('pc')" id="upgradePcBtn">
                        Купить
                    </button>
                </div>

                <!-- Добавьте остальные улучшения аналогично -->
                
            </div>
        </div>

        <!-- Остальные вкладки -->
        
    </div>

    <div class="bottom-nav">
        <button class="nav-button active" onclick="switchTab('mine')">
            ⛏️
            <span>Майнинг</span>
        </button>
        <button class="nav-button" onclick="switchTab('upgrades')">
            🔧
            <span>Улучшения</span>
        </button>
        <button class="nav-button" onclick="switchTab('quests')">
            🎯
            <span>Квесты</span>
        </button>
        <button class="nav-button" onclick="switchTab('leaderboard')">
            🏆
            <span>Топ</span>
        </button>
    </div>

    <script>
        // Полная интеграция с Telegram Web App
        class CryptoMinerApp {
            constructor() {
                this.tg = window.Telegram.WebApp;
                this.init();
            }

            init() {
                // Инициализация Telegram Web App
                this.tg.expand();
                this.tg.enableClosingConfirmation();
                this.tg.setHeaderColor('#667eea');
                this.tg.setBackgroundColor('#667eea');
                
                // Настройка основной кнопки
                this.tg.MainButton.setText('💎 Премиум доступ');
                this.tg.MainButton.show();
                this.tg.MainButton.onClick(this.showPremiumModal);

                this.loadUserData();
                this.initGame();
                this.setupEventListeners();
            }

            loadUserData() {
                const user = this.tg.initDataUnsafe.user;
                if (user) {
                    document.getElementById('userName').textContent = user.first_name || 'Пользователь';
                    document.getElementById('userAvatar').textContent = user.first_name ? user.first_name[0].toUpperCase() : 'U';
                    document.getElementById('userAvatar').style.background = this.generateColor(user.id);
                }
            }

            generateColor(userId) {
                const colors = ['#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4'];
                return colors[userId % colors.length];
            }

            initGame() {
                this.gameData = this.loadGameData();
                this.startGameLoop();
                this.hideLoadingScreen();
            }

            loadGameData() {
                const defaultData = {
                    balance: 100,
                    hashrate: 1,
                    level: 1,
                    totalMined: 0,
                    energy: 100,
                    maxEnergy: 100,
                    upgrades: {
                        pc: { level: 0, cost: 50 },
                        gpu: { level: 0, cost: 200 },
                        asic: { level: 0, cost: 500 },
                        farm: { level: 0, cost: 2000 }
                    },
                    lastUpdate: Date.now(),
                    userId: this.tg.initDataUnsafe.user?.id || 'anonymous'
                };

                try {
                    const saved = localStorage.getItem('cryptoMinerPro');
                    if (saved) {
                        return { ...defaultData, ...JSON.parse(saved) };
                    }
                } catch (e) {
                    console.error('Error loading game data:', e);
                }

                return defaultData;
            }

            saveGameData() {
                this.gameData.lastUpdate = Date.now();
                localStorage.setItem('cryptoMinerPro', JSON.stringify(this.gameData));
                
                // Обновляем облачное сохранение через Telegram
                if (this.tg?.CloudStorage) {
                    this.tg.CloudStorage.setItem('gameData', JSON.stringify(this.gameData));
                }
            }

            startGameLoop() {
                setInterval(() => this.autoMine(), 1000);
                setInterval(() => this.updateEnergy(), 2000);
                setInterval(() => this.saveGameData(), 30000);
                setInterval(() => this.updateDisplay(), 100);
            }

            mine() {
                if (this.gameData.energy <= 0) {
                    this.showNotification('⚠️ Недостаточно энергии!');
                    return;
                }

                const mined = this.gameData.hashrate;
                this.gameData.balance += mined;
                this.gameData.totalMined += mined;
                this.gameData.energy -= 2;

                this.createClickAnimation(mined);
                this.updateDisplay();
                this.saveGameData();

                // Тактильная отдача
                if (navigator.vibrate) navigator.vibrate(50);
            }

            autoMine() {
                const now = Date.now();
                const timePassed = (now - this.gameData.lastUpdate) / 1000;
                
                if (timePassed > 0) {
                    const autoIncome = this.gameData.upgrades.asic.level * 1 + this.gameData.upgrades.farm.level * 5;
                    const mined = autoIncome * timePassed;
                    
                    this.gameData.balance += mined;
                    this.gameData.totalMined += mined;
                    this.gameData.lastUpdate = now;
                }
            }

            updateEnergy() {
                if (this.gameData.energy < this.gameData.maxEnergy) {
                    this.gameData.energy += 0.5;
                }
            }

            buyUpgrade(type) {
                const upgrade = this.gameData.upgrades[type];
                
                if (this.gameData.balance >= upgrade.cost) {
                    this.gameData.balance -= upgrade.cost;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 1.5);
                    
                    // Применяем эффекты
                    switch(type) {
                        case 'pc': this.gameData.hashrate += 0.5; break;
                        case 'gpu': this.gameData.hashrate += 2; break;
                    }
                    
                    this.showNotification('✅ Улучшение куплено!');
                    this.updateDisplay();
                    this.saveGameData();
                    
                    // Аналитика
                    this.tg?.event('upgrade_purchased', { type, level: upgrade.level });
                } else {
                    this.showNotification('❌ Недостаточно BTC!');
                }
            }

            updateDisplay() {
                // Обновляем все элементы интерфейса
                document.getElementById('balance').textContent = this.gameData.balance.toFixed(1);
                document.getElementById('hashrate').textContent = this.gameData.hashrate.toFixed(1);
                document.getElementById('energy').textContent = Math.floor(this.gameData.energy);
                document.getElementById('totalMined').textContent = this.gameData.totalMined.toFixed(1);
                document.getElementById('userLevel').textContent = this.gameData.level;
                
                const autoIncome = this.gameData.upgrades.asic.level * 1 + this.gameData.upgrades.farm.level * 5;
                document.getElementById('autoIncome').textContent = autoIncome.toFixed(1);
                
                // Обновляем USD баланс (заглушка)
                document.getElementById('balanceUsd').textContent = (this.gameData.balance * 45000).toFixed(0);
            }

            createClickAnimation(amount) {
                const animation = document.createElement('div');
                animation.className = 'click-animation';
                animation.textContent = `+${amount.toFixed(1)}`;
                animation.style.left = `${Math.random() * 200 + 100}px`;
                animation.style.top = '50%';
                
                document.body.appendChild(animation);
                setTimeout(() => animation.remove(), 1000);
            }

            showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.textContent = message;
                
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 3000);
            }

            showPremiumModal() {
                this.tg.showPopup({
                    title: '💎 Премиум доступ',
                    message: 'Получите эксклюзивные преимущества:',
                    buttons: [
                        { id: 'monthly', type: 'default', text: 'Месяц - 299 ₽' },
                        { id: 'yearly', type: 'default', text: 'Год - 2,990 ₽' },
                        { type: 'cancel' }
                    ]
                }, (buttonId) => {
                    if (buttonId !== 'cancel') {
                        this.tg.openInvoice('your_invoice_link');
                    }
                });
            }

            hideLoadingScreen() {
                document.getElementById('loadingScreen').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
            }

            setupEventListeners() {
                // Обработка жестов
                let holdTimer;
                const mineButton = document.getElementById('mineButton');
                
                mineButton.addEventListener('touchstart', (e) => {
                    holdTimer = setInterval(() => this.mine(), 100);
                });
                
                mineButton.addEventListener('touchend', () => {
                    clearInterval(holdTimer);
                });
                
                mineButton.addEventListener('mousedown', (e) => {
                    if (e.button === 0) {
                        holdTimer = setInterval(() => this.mine(), 100);
                    }
                });
                
                mineButton.addEventListener('mouseup', () => {
                    clearInterval(holdTimer);
                });
                
                mineButton.addEventListener('mouseleave', () => {
                    clearInterval(holdTimer);
                });

                // Обработка системных событий
                this.tg.onEvent('viewportChanged', () => this.saveGameData());
                window.addEventListener('beforeunload', () => this.saveGameData());
            }
        }

        // Глобальные функции для HTML
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.closest('.tab-button, .nav-button').classList.add('active');
        }

        function mine() {
            window.minerApp.mine();
        }

        function buyUpgrade(type) {
            window.minerApp.buyUpgrade(type);
        }

        // Инициализация приложения
        document.addEventListener('DOMContentLoaded', () => {
            window.minerApp = new CryptoMinerApp();
        });

        // PWA функционал
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(console.error);
        }
    </script>
</body>
</html>
